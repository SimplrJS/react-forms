{"version":3,"sources":["test/ApiDefinitionReference.test.ts"],"names":[],"mappings":"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","file":"test/ApiDefinitionReference.test.js","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\n/// <reference types=\"mocha\" />\r\n\r\nimport { assert } from 'chai';\r\nimport ApiDefinitionReference from '../ApiDefinitionReference';\r\n\r\n/* tslint:disable:no-function-expression - Mocha uses a poorly scoped \"this\" pointer */\r\nlet capturedErrors: {\r\n  message: string;\r\n  fileName: string;\r\n  lineNumber: number;\r\n}[] = [];\r\n\r\nfunction testErrorHandler(message: string, fileName: string, lineNumber: number): void {\r\n  capturedErrors.push({ message, fileName, lineNumber });\r\n}\r\n\r\nfunction clearCapturedErrors(): void {\r\n  capturedErrors = [];\r\n}\r\n\r\nfunction assertCapturedErrors(expectedMessages: string[]): void {\r\n  assert.deepEqual(capturedErrors.map(x => x.message), expectedMessages,\r\n    'The captured errors did not match the expected output.');\r\n}\r\n\r\ndescribe('ApiDocumentation tests', function (): void {\r\n  this.timeout(10000);\r\n\r\n  describe('ApiDocumentation internal methods', function (): void {\r\n    let apiReferenceExpr: string;\r\n    let actual: ApiDefinitionReference;\r\n\r\n    it('_parseApiReferenceExpression() with scope name', function (): void {\r\n      apiReferenceExpr = '@microsoft/sp-core-library:Guid';\r\n\r\n      actual = ApiDefinitionReference.createFromString(apiReferenceExpr, console.log);\r\n      assert.equal('@microsoft', actual.scopeName);\r\n      assert.equal('sp-core-library', actual.packageName);\r\n      assert.equal('Guid', actual.exportName);\r\n      assert.equal('', actual.memberName);\r\n    });\r\n\r\n    it('_parseApiReferenceExpression() without scope name', function (): void {\r\n      apiReferenceExpr = 'sp-core-library:Guid';\r\n\r\n      actual = ApiDefinitionReference.createFromString(apiReferenceExpr, console.log);\r\n      assert.equal('', actual.scopeName);\r\n      assert.equal('sp-core-library', actual.packageName);\r\n      assert.equal('Guid', actual.exportName);\r\n      assert.equal('', actual.memberName);\r\n    });\r\n\r\n    it('_parseApiReferenceExpression() without scope name and with member name', function (): void {\r\n      apiReferenceExpr = 'sp-core-library:Guid.equals';\r\n\r\n      actual = ApiDefinitionReference.createFromString(apiReferenceExpr, console.log);\r\n      assert.equal('', actual.scopeName);\r\n      assert.equal('sp-core-library', actual.packageName);\r\n      assert.equal('Guid', actual.exportName);\r\n      assert.equal('equals', actual.memberName);\r\n    });\r\n\r\n    it('_parseApiReferenceExpression() without scope name and invalid memberName', function (): void {\r\n      clearCapturedErrors();\r\n      // This won't raise an error (based on our current decision to only show warnings in the *.api.ts\r\n      // files if we can't find a reference)\r\n      apiReferenceExpr = 'sp-core-library:Guid:equals';\r\n      actual = ApiDefinitionReference.createFromString(apiReferenceExpr, console.log);\r\n      assertCapturedErrors([]);\r\n    });\r\n  });\r\n});"],"sourceRoot":"..\\..\\src"}